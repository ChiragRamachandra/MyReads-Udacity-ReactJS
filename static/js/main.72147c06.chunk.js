(this["webpackJsonpudacity-project"]=this["webpackJsonpudacity-project"]||[]).push([[0],{20:function(e,t,a){e.exports=a(33)},25:function(e,t,a){},26:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),l=(a(25),a(26),a(8)),i=a(1),s=a(6),u=a.n(s),m=a(11),h=a(9),d=function(e){var t=e.title,a=e.author,o=e.url,c=e.onChangeHandler,l=e.id,i=e.state;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"book-top"},r.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url("+o+")"}}),r.a.createElement("div",{className:"book-shelf-changer"},r.a.createElement("select",{id:l,onChange:c,defaultValue:i},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"none"},"None"),r.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),r.a.createElement("option",{value:"wantToRead"},"Want to Read"),r.a.createElement("option",{value:"read"},"Read")))),r.a.createElement("div",{className:"book-title"},t),r.a.createElement("div",{className:"book-authors"},a)))},f=function(e){var t=e.title,a=e.bookArray,o=e.onChangeHandler,c=null;return a&&(c=a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(d,{id:e.id,url:e.imageLinks.thumbnail,title:e.title,author:e.authors,onChangeHandler:o,state:e.shelf}))}))),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"bookshelf"},r.a.createElement("h2",{className:"bookshelf-title"},t),r.a.createElement("div",{className:"bookshelf-books"},r.a.createElement("ol",{className:"books-grid"},c))))},b=a(12),p="https://reactnd-books-api.udacity.com",v=localStorage.token;v||(v=localStorage.token=Math.random().toString(36).substr(-8));var E={Accept:"application/json",Authorization:v},k=function(e){return fetch("".concat(p,"/books/").concat(e),{headers:E}).then((function(e){return e.json()})).then((function(e){return e.book}))},g=function(){return fetch("".concat(p,"/books"),{headers:E}).then((function(e){return e.json()})).then((function(e){return e.books}))},y=function(e,t){return fetch("".concat(p,"/books/").concat(e.id),{method:"PUT",headers:Object(b.a)(Object(b.a)({},E),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},j=function(e){return fetch("".concat(p,"/search"),{method:"POST",headers:Object(b.a)(Object(b.a)({},E),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))},N=function(){var e=Object(n.useState)(),t=Object(h.a)(e,2),a=t[0],o=t[1],c=null,i=null,s=null;Object(n.useEffect)((function(){d()}),[]);var d=function(){g().then((function(e){o(e)}))};a&&(c=a.filter((function(e){return"currentlyReading"===e.shelf})),i=a.filter((function(e){return"wantToRead"===e.shelf})),s=a.filter((function(e){return"read"===e.shelf})));var b=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.value.toString(),"none"!==t.target.value){e.next=5;break}e.next=11;break;case 5:return e.next=7,k(t.target.id);case 7:return n=e.sent,e.next=10,y(n,a);case 10:d();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"list-books"},r.a.createElement("div",{className:"list-books-title"},r.a.createElement("h1",null,"MyReads")),r.a.createElement("div",{className:"list-books-content"},r.a.createElement("div",null,r.a.createElement(f,{title:"Currently Reading",bookArray:c,onChangeHandler:b}),r.a.createElement(f,{title:"Want To Read",bookArray:i,onChangeHandler:b}),r.a.createElement(f,{title:"Read",bookArray:s,onChangeHandler:b}))),r.a.createElement("div",{className:"open-search"},r.a.createElement(l.b,{to:"/search"},r.a.createElement("button",null,"Search"))))))},O=function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),i=Object(h.a)(c,2),s=i[0],f=i[1],b=Object(n.useState)(),p=Object(h.a)(b,2),v=p[0],E=p[1],N=null;Object(n.useEffect)((function(){O()}),[]);var O=function(){g().then((function(e){E(e)}))},w=function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o(t.target.value),!a){e.next=7;break}return e.next=5,j(a);case 5:n=e.sent,f(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.value.toString(),"none"!==t.target.value){e.next=5;break}e.next=10;break;case 5:return e.next=7,k(t.target.id);case 7:return n=e.sent,e.next=10,y(n,a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"undefined"!==s&&null!=s&&null!=s.length&&s.length>0&&(N=s.map((function(e){return v.map((function(t){return t.id===e.id&&(e.shelf=t.shelf),t})),e.imageLinks?r.a.createElement("li",{key:e.id},r.a.createElement(d,{id:e.id,url:e.imageLinks.thumbnail,title:e.title,author:e.authors,onChangeHandler:x,state:e.shelf})):r.a.createElement("li",{key:e.id},r.a.createElement(d,{id:e.id,title:e.title,author:e.authors,onChangeHandler:x,state:e.shelf}))}))),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"search-books"},r.a.createElement("div",{className:"search-books-bar"},r.a.createElement(l.b,{to:"/"},r.a.createElement("button",{className:"close-search"},"Close")),r.a.createElement("div",{className:"search-books-input-wrapper"},r.a.createElement("input",{type:"text",onChange:w,placeholder:"Search by title or author"}))),r.a.createElement("div",{className:"search-books-results"},r.a.createElement("ol",{className:"books-grid"},N)))))};var w=function(){return r.a.createElement(l.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:N}),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/search",component:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.72147c06.chunk.js.map